{"version":3,"sources":["users.js","helper.js","channels.js","groups.js","files.js","Dashboard.js","authProvider.js","dataProvider.js","MyLoginPage.js","MyUserMenu.js","MyAppBar.js","MyLayout.js","App.js","serviceWorker.js","index.js"],"names":["UserList","props","react_default","a","createElement","List","Datagrid","rowClick","FileField","label","source","title","target","TextField","ImageField","Helper","id","name","unixtimestamp","date","Date","year","getFullYear","month","getMonth","day","getDate","byte","Math","pow","toFixed","b","field","valA","valB","tempArray","split","length","array","cmp","stabilizedThis","map","el","index","sort","order","_this","this","desc","ChannelList","FunctionField","render","record","convertDate","created","GroupList","FileList","Object","assign","filters","files_FileFilter","actions","files_PostActions","bulkActionButtons","files_FileBulkActionButtons","Responsive","small","SimpleList","primaryText","secondaryText","m_users","tertiaryText","toLocaleDateString","medium","files_FileDatagrid","src","ArrayField","sortable","SingleFieldList","ChipField","toSizeString","size","PostActions","_ref","bulkActions","basePath","currentSort","displayedFilters","exporter","filterValues","onUnselectItems","resource","selectedIds","showFilter","total","CardActions","React","cloneElement","context","ExportButton","disabled","filter","FileBulkActionButtons","react","BulkDeleteButton","FileFilter","Filter","TextInput","alwaysOn","AutocompleteArrayInput","choices","JSON","parse","sessionStorage","getItem","allowEmpty","getFileTypes","FileDatagridRow","_ref2","onToggleItem","children","selected","TableRow_default","key","TableCell_default","padding","user","localStorage","user_id","Checkbox_default","checked","onClick","Children","concat","FileDatagridBody","DatagridBody","row","files_FileDatagridRow","FileDatagrid","body","files_FileDatagridBody","Dashboard","Card_default","CardHeader_default","CardContent_default","authProvider","type","params","AUTH_LOGIN","username","setItem","Promise","resolve","AUTH_LOGOUT","clear","AUTH_ERROR","status","removeItem","reject","AUTH_CHECK","API_URL","TOKEN","access_token","CURRENT_USER","PREFIX","dataProvider","fileIds","console","group","log","groupEnd","GET_LIST","window","demo","handleData","storageObject","all","getAllChannels","getAllUsers","then","values","listChannels","listUsers","allChannels","allUsers","param","is_admin","is_dev","get","response","result","files","file","channels","getUserNameByFile","getChannelNamesByFile","push","isInTheChannel","fChannelId","i","paging","pages","listUrl","page","url","res","value","stringify","allFiles","users","groups","DELETE_MANY","ids","_loop2","fetch","method","includes","data","filterKeys","keys","_i","_filterKeys","Array","isArray","isCheckArray","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","undefined","_step2","_iterator2","Symbol","iterator","next","done","v","filterDataArray","err","return","searchDataArray","hasOwnProperty","document","getElementById","childNodes","innerHTML","getSizeOfListFile","addEventListener","list","stableSort","getSorting","_params$pagination","pagination","perPage","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","filterValue","dataArray","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","toLowerCase","indexOf","startSlice","endSlice","slice","finalChannels","compactChannels","channel","is_archived","members","j","uniqueChannels","item","pos","_loop","find","obj","error","aStyle","position","left","top","MyLoginPage","submit","e","preventDefault","userLogin","style","href","alt","height","width","srcSet","Component","connect","MyCustomIcon","withStyles","avatar","classes","Avatar_default","className","profile","image_32","MyUserMenu","UserMenu","icon","MenuItemLink","to","leftIcon","Settings_default","MyAppBar","flex","textOverflow","whiteSpace","overflow","spacer","objectWithoutProperties","AppBar","userMenu","src_MyUserMenu","Typography_default","variant","color","display_name","MyLayout","Layout","appBar","App","Admin","appLayout","loginPage","dashboard","Resource","FileIcon","UserIcon","Boolean","location","hostname","match","ReactDOM","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"oPAGaA,EAAW,SAAAC,GAAK,OACzBC,EAAAC,EAAAC,cAACC,EAAA,EAASJ,EACNC,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUC,SAAS,QACfL,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAWC,MAAM,OAAOC,OAAO,yBAAyBC,MAAM,SAASC,OAAO,WAC9EV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAWH,OAAO,KAAKD,MAAM,OAC7BP,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAYJ,OAAO,mBAAmBD,MAAM,WAC5CP,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAWH,OAAO,OAAOD,MAAM,SAC/BP,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAWH,OAAO,uBAAuBD,MAAM,gDCgF5CM,8GAxFP,MAAO,CACH,CAACC,GAAI,MAAOC,KAAM,OAClB,CAACD,GAAI,MAAOC,KAAM,OAClB,CAACD,GAAI,MAAOC,KAAM,OAClB,CAACD,GAAI,MAAOC,KAAM,OAClB,CAACD,GAAI,OAAQC,KAAM,QACnB,CAACD,GAAI,MAAOC,KAAM,OAClB,CAACD,GAAI,OAAQC,KAAM,QACnB,CAACD,GAAI,MAAOC,KAAM,OAClB,CAACD,GAAI,MAAOC,KAAM,4CAIPC,GAIf,IAAIC,EAAO,IAAIC,KAAmB,IAAdF,GAEhBG,EAAOF,EAAKG,cAGZC,EAAQJ,EAAKK,WAAa,EAC1BD,EAAQ,KACRA,EAAQ,IAAMA,GAGlB,IAAIE,EAAMN,EAAKO,UAWf,OAVID,EAAM,KACNA,EAAM,IAAMA,GASTA,EAAM,IAAMF,EAAQ,IAAMF,uCAGjBM,GAChB,OAAIA,EAAOC,KAAKC,IAAI,EAAG,IACZF,EAAO,KACPA,EAAOC,KAAKC,IAAI,EAAG,KAClBF,EAAOC,KAAKC,IAAI,EAAG,KAAKC,QAAQ,GAAK,MACtCH,EAAOC,KAAKC,IAAI,EAAG,KAClBF,EAAOC,KAAKC,IAAI,EAAG,KAAKC,QAAQ,GAAK,MACtCH,EAAOC,KAAKC,IAAI,EAAG,KAClBF,EAAOC,KAAKC,IAAI,EAAG,KAAKC,QAAQ,GAAK,WAD1C,+BAMC3B,EAAG4B,EAAGC,GACd,IAAIC,EAAO9B,EAAE6B,GACTE,EAAOH,EAAEC,GACTG,EAAYH,EAAMI,MAAM,KAK5B,OAJyB,IAArBD,EAAUE,SACVJ,EAAO9B,EAAEgC,EAAU,IAAIA,EAAU,IACjCD,EAAOH,EAAEI,EAAU,IAAIA,EAAU,KAEjCD,EAAOD,GACC,EAERC,EAAOD,EACA,EAEJ,qCAGOK,EAAOC,GACrB,IAAMC,EAAiBF,EAAMG,IAAI,SAACC,EAAIC,GAAL,MAAe,CAACD,EAAIC,KAMrD,OALAH,EAAeI,KAAK,SAACzC,EAAG4B,GACpB,IAAMc,EAAQN,EAAIpC,EAAE,GAAI4B,EAAE,IAC1B,OAAc,IAAVc,EAAoBA,EACjB1C,EAAE,GAAK4B,EAAE,KAEbS,EAAeC,IAAI,SAAAC,GAAE,OAAIA,EAAG,wCAGrBG,EAAOb,GAAO,IAAAc,EAAAC,KAC5B,MAAiB,SAAVF,EAAmB,SAAC1C,EAAG4B,GAAJ,OAAUe,EAAKE,KAAK7C,EAAG4B,EAAGC,IAAS,SAAC7B,EAAG4B,GAAJ,OAAYe,EAAKE,KAAK7C,EAAG4B,EAAGC,aC/EpFiB,EAAc,SAAAhD,GAAK,OAC5BC,EAAAC,EAAAC,cAACC,EAAA,EAASJ,EACNC,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUC,SAAS,QACfL,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAWH,OAAO,OAAOD,MAAM,SAC/BP,EAAAC,EAAAC,cAAC8C,EAAA,EAAD,CAAexC,OAAO,UAAUD,MAAM,UAAU0C,OAAQ,SAAAC,GAAM,OAAIrC,EAAOsC,YAAYD,EAAOE,eCJ3FC,EAAY,SAAAtD,GAAK,OAC1BC,EAAAC,EAAAC,cAACC,EAAA,EAASJ,EACNC,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUC,SAAS,QACfL,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAWH,OAAO,OAAOD,MAAM,SAC/BP,EAAAC,EAAAC,cAAC8C,EAAA,EAAD,CAAexC,OAAO,UAAUD,MAAM,UAAU0C,OAAQ,SAAAC,GAAM,OAAIrC,EAAOsC,YAAYD,EAAOE,wLCI3FE,EAAW,SAAAvD,GAAK,OACzBC,EAAAC,EAAAC,cAACC,EAAA,EAADoD,OAAAC,OAAA,CAAMC,QAASzD,EAAAC,EAAAC,cAACwD,EAAD,MAAgBC,QAAS3D,EAAAC,EAAAC,cAAC0D,EAAD,OAAqB7D,EAA7D,CAAoE8D,kBAAmB7D,EAAAC,EAAAC,cAAC4D,EAAD,QACnF9D,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,CACIC,MACIhE,EAAAC,EAAAC,cAAC+D,EAAA,EAAD,CACIC,YAAa,SAAAhB,GAAM,OAAIA,EAAOzC,OAC9B0D,cAAe,SAAAjB,GAAM,OAAIA,EAAOkB,SAChCC,aAAc,SAAAnB,GAAM,OAAI,IAAIhC,KAAKgC,EAAOE,SAASkB,wBAGzDC,OACIvE,EAAAC,EAAAC,cAACsE,EAAD,KACIxE,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAWC,MAAM,OAAOC,OAAO,cAAciE,IAAI,cAAchE,MAAM,QAAQC,OAAO,WACpFV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAWJ,MAAM,OAAOC,OAAO,YAC/BR,EAAAC,EAAAC,cAACwE,EAAA,EAAD,CAAYnE,MAAM,UAAUC,OAAO,aAAamE,UAAU,GACtD3E,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,KACI5E,EAAAC,EAAAC,cAAC2E,EAAA,EAAD,CAAWrE,OAAO,WAG1BR,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAYL,MAAM,YAAYC,OAAO,WAAWmE,UAAU,IAC1D3E,EAAAC,EAAAC,cAAC8C,EAAA,EAAD,CAAexC,OAAO,OAAOyC,OAAQ,SAAAC,GAAM,OAAIrC,EAAOiE,aAAa5B,EAAO6B,SAC1E/E,EAAAC,EAAAC,cAAC8C,EAAA,EAAD,CAAexC,OAAO,UAAUD,MAAM,UAAU0C,OAAQ,SAAAC,GAAM,OAAIrC,EAAOsC,YAAYD,EAAOE,iBAO1G4B,EAAc,SAAAC,GAAA,IAChBC,EADgBD,EAChBC,YACAC,EAFgBF,EAEhBE,SACAC,EAHgBH,EAGhBG,YACAC,EAJgBJ,EAIhBI,iBACAC,EALgBL,EAKhBK,SACA7B,EANgBwB,EAMhBxB,QACA8B,EAPgBN,EAOhBM,aACAC,EARgBP,EAQhBO,gBACAC,EATgBR,EAShBQ,SACAC,EAVgBT,EAUhBS,YACAC,EAXgBV,EAWhBU,WACAC,EAZgBX,EAYhBW,MAZgB,OAchB5F,EAAAC,EAAAC,cAAC2F,EAAA,EAAD,KACKX,GAAeY,IAAMC,aAAab,EAAa,CAC5CC,WACAI,eACAE,WACAC,cACAF,oBAEH/B,GAAWqC,IAAMC,aAAatC,EAAS,CACpCgC,WACAE,aACAN,mBACAE,eACAS,QAAS,WAEbhG,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACIC,SAAoB,IAAVN,EACVH,SAAUA,EACV/C,KAAM0C,EACNe,OAAQZ,EACRD,SAAUA,MAKhBc,EAAwB,SAAArG,GAAK,OAC/BC,EAAAC,EAAAC,cAACmG,EAAA,SAAD,KAEIrG,EAAAC,EAAAC,cAACoG,EAAA,EAAqBvG,KAIxBwG,EAAa,SAACxG,GAAD,OACfC,EAAAC,EAAAC,cAACsG,EAAA,EAAWzG,EACRC,EAAAC,EAAAC,cAACuG,EAAA,EAAD,CAAWlG,MAAM,SAASC,OAAO,OAAOkG,UAAQ,IAChD1G,EAAAC,EAAAC,cAACyG,EAAA,EAAD,CAAwBnG,OAAO,OAAOoG,QAAUC,KAAKC,MAAMC,eAAeC,QAAQ,UAAYC,YAAU,IACxGjH,EAAAC,EAAAC,cAACyG,EAAA,EAAD,CAAwBnG,OAAO,WAAWoG,QAAUC,KAAKC,MAAMC,eAAeC,QAAQ,aAAeC,YAAU,IAC/GjH,EAAAC,EAAAC,cAACyG,EAAA,EAAD,CAAwBnG,OAAO,WAAWoG,QAAU/F,EAAOqG,eAAiBD,YAAU,MAIxFE,EAAkB,SAAAC,GAAA,IAAGlE,EAAHkE,EAAGlE,OAAQuC,EAAX2B,EAAW3B,SAAU3E,EAArBsG,EAAqBtG,GAAIuG,EAAzBD,EAAyBC,aAAcC,EAAvCF,EAAuCE,SAAUC,EAAjDH,EAAiDG,SAAUpC,EAA3DiC,EAA2DjC,SAA3D,OACpBnF,EAAAC,EAAAC,cAACsH,EAAAvH,EAAD,CAAUwH,IAAK3G,GAEXd,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAW0H,QAAQ,QACdzE,EAAO0E,OAASf,KAAKC,MAAMe,aAAab,QAAQ,SAASc,SAAW9H,EAAAC,EAAAC,cAAC6H,EAAA9H,EAAD,CACjE+H,QAAST,EACTU,QAAS,kBAAMZ,EAAavG,OAInCgF,IAAMoC,SAAS3F,IAAI+E,EAAU,SAAAxF,GAAK,OAC/B9B,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAWwH,IAAG,GAAAU,OAAKrH,EAAL,KAAAqH,OAAWrG,EAAM/B,MAAMS,SAChCsF,IAAMC,aAAajE,EAAO,CACvBoB,SACAiC,WACAM,kBAOd2C,EAAmB,SAAArI,GAAK,OAAIC,EAAAC,EAAAC,cAACmI,EAAA,EAAD9E,OAAAC,OAAA,GAAkBzD,EAAlB,CAAyBuI,IAAKtI,EAAAC,EAAAC,cAACqI,EAAD,UAC1DC,EAAe,SAAAzI,GAAK,OAAIC,EAAAC,EAAAC,cAACE,EAAA,EAADmD,OAAAC,OAAA,GAAczD,EAAd,CAAqB0I,KAAMzI,EAAAC,EAAAC,cAACwI,EAAD,uGCjH1CC,GAAA,kBACX3I,EAAAC,EAAAC,cAAC0I,EAAA3I,EAAD,KACID,EAAAC,EAAAC,cAAC2I,GAAA5I,EAAD,CAAYQ,MAAM,kCAClBT,EAAAC,EAAAC,cAAC4I,EAAA7I,EAAD,kDCNO8I,GAAA,SAACC,EAAMC,GAElB,GAAID,IAASE,KAAY,KACbC,EAAaF,EAAbE,SAGR,OAFAtB,aAAauB,QAAQ,WAAYD,GAE1BE,QAAQC,UAGnB,GAAIN,IAASO,KAGT,OAFA1B,aAAa2B,QACbzC,eAAeyC,QACRH,QAAQC,UAGnB,GAAIN,IAASS,KAAY,KACbC,EAAWT,EAAXS,OACR,OAAe,MAAXA,GAA6B,MAAXA,GAClB7B,aAAa8B,WAAW,YACjBN,QAAQO,UAEZP,QAAQC,UAGnB,OAAIN,IAASa,KACFhC,aAAab,QAAQ,QACtBqC,QAAQC,UACRD,QAAQO,SAEXP,QAAQO,OAAO,sCCjBpBE,GAAU,wBACVC,GAAQlC,aAAab,QAAQ,QAAUH,KAAKC,MAAMe,aAAab,QAAQ,SAASgD,aAAe,GAC/FC,GAAepC,aAAab,QAAQ,QAAUH,KAAKC,MAAMe,aAAab,QAAQ,SAASY,KAAO,GAC9FsC,GAAS,KAQAC,GAAA,SAACnB,EAAMvD,EAAUwD,GAmUhC,IAAqBmB,EAlUjB,GAAKL,GAOL,OANAM,QAAQC,MAAM,6CACdD,QAAQE,IAAIvB,GACZqB,QAAQE,IAAI9E,GACZ4E,QAAQE,IAAItB,GACZoB,QAAQG,WAEDxB,GACH,KAAKyB,KACD,OAAOhF,GACH,IAAK,QACD,GAAIiF,OAAOC,KACP,OAAOC,GAAW3B,EAAQyB,OAAOC,MAC9B,GAAI5D,eAAeC,QAAQ,SAAU,CACxC,IAAI6D,EAAgBhE,KAAKC,MAAMC,eAAeC,QAAQ,UACtD,OAAO4D,GAAW3B,EAAQ4B,GAE9B,OAAOxB,QAAQyB,IAAI,CAACC,KAAkBC,OAAgBC,KAAK,SAAAC,GACvD,IA6KHC,EAAcC,EA7KPC,EAAcH,EAAO,GACrBI,EAAWJ,EAAO,GACtB,OA2KHC,EA3KsBE,EA2KRD,EA3KqBE,EA4K7C,IAAIjC,QAAQ,SAASC,EAASM,GACjC,IAAI2B,EAAQ,GACPtB,GAAauB,UAAavB,GAAawB,SACxCF,EAAK,SAAApD,OAAY8B,GAAanJ,KAElC4K,eAAG,GAAAvD,OAAI2B,GAAJ,sBAAA3B,OAAgC4B,IAAhC5B,OAAwCoD,EAAxC,sBAAkEN,KAAK,SAAAU,GACtE,IAAIC,EAAS,GA2Bb,GAzBAD,EAASE,MAAMtJ,IAAI,SAAAuJ,GACf,GAAK7B,GAAawB,QAAWK,EAAKC,SAkB9BD,EAAK5B,GAAS,SAAW8B,GAAkBZ,EAAWU,GACtDA,EAAK5B,GAAS,YAAc+B,GAAsBd,EAAcW,GAChEF,EAAOM,KAAKJ,OApB4B,CACxC,IAAIK,GAAiB,EACrBL,EAAKC,SAASxJ,IAAI,SAAA6J,GACd,IAAK,IAAIC,EAAI,EAAGA,EAAIlB,EAAahJ,OAAQkK,IACrC,GAAIlB,EAAakB,GAAGvL,KAAOsL,EAAY,CACnCD,GAAiB,EACjB,SAMRA,IACAL,EAAK5B,GAAS,SAAW8B,GAAkBZ,EAAWU,GACtDA,EAAK5B,GAAS,YAAc+B,GAAsBd,EAAcW,GAChEF,EAAOM,KAAKJ,OASpBH,EAASW,OAAOC,MAAQ,EAAG,CAE3B,IADA,IAAIC,EAAU,GACLC,EAAO,EAAGA,GAAQd,EAASW,OAAOC,MAAOE,IAC9CD,EAAQN,KAAR,GAAA/D,OAAgB2B,GAAhB,sBAAA3B,OAA4C4B,IAA5C5B,OAAoDoD,EAApD,oBAAApD,OAA4EsE,IAEhFpD,QAAQyB,IACJ0B,EAAQjK,IAAI,SAAAmK,GACR,OAAOhB,eAAIgB,GAAKzB,KAAK,SAAA0B,GACjB,OAAOA,OAGjB1B,KAAK,SAAAC,GACHA,EAAO3I,IAAI,SAAAqK,GACPA,EAAMf,MAAMtJ,IAAI,SAAAuJ,GACZ,IAAIK,GAAiB,EAChBlC,GAAawB,QAiBdK,EAAK5B,GAAS,SAAW8B,GAAkBZ,EAAWU,GACtDA,EAAK5B,GAAS,YAAc+B,GAAsBd,EAAcW,GAChEF,EAAOM,KAAKJ,KAlBZA,EAAKC,SAASxJ,IAAI,SAAA6J,GACd,IAAK,IAAIC,EAAI,EAAGA,EAAIlB,EAAahJ,OAAQkK,IACrC,GAAIlB,EAAakB,GAAGvL,KAAOsL,EAAY,CACnCD,GAAiB,EACjB,SAMRA,IACAL,EAAK5B,GAAS,SAAW8B,GAAkBZ,EAAWU,GACtDA,EAAK5B,GAAS,YAAc+B,GAAsBd,EAAcW,GAChEF,EAAOM,KAAKJ,SAS5B/E,eAAeqC,QAAQ,QAASvC,KAAKgG,UAAUjB,IAC/CtC,EAAQsC,UAGZ7E,eAAeqC,QAAQ,QAASvC,KAAKgG,UAAUjB,IAC/CtC,EAAQsC,QAxP0CX,KAAK,SAAA6B,GAC3C,OAAOlC,GAAW3B,EAAQ6D,OAGtC,IAAK,QACD,OAAO9B,KAAcC,KAAK,SAAA8B,GACtB,OAAOnC,GAAW3B,EAAQ8D,KAElC,IAAK,WACD,OAAOhC,KAAiBE,KAAK,SAAAc,GACzB,OAAOnB,GAAW3B,EAAQ8C,KAElC,IAAK,SACD,OAwIT,IAAI1C,QAAQ,SAASC,EAASM,GACjC,IAAI2B,EAAQ,GACRtB,GAAawB,SACbF,EAAQ,0BAEZG,eAAG,GAAAvD,OAAI2B,GAAJ,uBAAA3B,OAAiC4B,IAAjC5B,OAAyCoD,IAASN,KAAK,SAAAU,GACtD5E,eAAeqC,QAAQ,SAAUvC,KAAKgG,UAAUlB,EAASqB,SACzD1D,EAAQqC,EAASqB,YA/Ia/B,KAAK,SAAA+B,GACvB,OAAOpC,GAAW3B,EAAQ+D,KAGtC,MAEJ,KAAKC,KA2RQ7C,EA1RGnB,EAAOiE,IA2RpB,IAAI7D,QAAQ,SAASC,EAASM,GAEjC,IADA,IAAIiC,EAAQzB,EAD6B+C,EAAA,SAEhCd,GACLe,MAAK,GAAAjF,OAAI2B,GAAJ,wBAAA3B,OAAkC4B,GAAlC,UAAA5B,OAAgDiC,EAAQiC,IAAM,CAACgB,OAAQ,SAASpC,KAAK,SAAA0B,GACtFd,EAAQzB,EAAQjE,OAAO,SAAA2F,GAAI,OAAIA,IAAS1B,EAAQiC,QAF/CA,EAAE,EAAGA,EAAIjC,EAAQjI,OAAQkK,IAAKc,EAA9Bd,GAKT,IAAIS,EAAWjG,KAAKC,MAAMC,eAAeC,QAAQ,UAAUb,OAAO,SAAA2F,GAC9D,OAAQD,EAAMyB,SAASxB,EAAKhL,MAEhCiG,eAAeqC,QAAQ,QAASvC,KAAKgG,UAAUC,IAC/CpC,OAAOC,KAAOmC,IArSd,QACI,SAWNlC,GAAa,SAAC3B,EAAQsE,GAExBA,EAAOA,EAAKpH,OAAO,SAAAyG,GAAK,OAoC5B,SAAgBW,EAAM9J,GAGlB,IAFA,IAAM+J,EAAajK,OAAOkK,KAAKhK,GAE/BiK,EAAA,EAAAC,EAAgBH,EAAhBE,EAAAC,EAAAxL,OAAAuL,IAA4B,CAAvB,IAAIjG,EAAGkG,EAAAD,GAER,GAAIE,MAAMC,QAAQpK,EAAQgE,IAAO,CAC7B,IAAIqG,GAAe,EADUC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAE7B,QAAAC,EAAAC,EAAc3K,EAAQgE,GAAtB4G,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAA4B,KAAnBU,EAAmBN,EAAAvB,MACxB,GAAIgB,MAAMC,QAAQN,EAAK9F,KACnB,GAAIiH,GAAgBD,EAAGlB,EAAK9F,IAAO,CAC/BqG,GAAe,EACf,YAED,GAAIP,EAAK9F,KAASgH,EAAG,CACxBX,GAAe,EACf,QAVqB,MAAAa,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAK,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAZ,EAAA,MAAAC,GAa7B,IAAKH,EAAc,OAAO,OACvB,GAAIF,MAAMC,QAAQN,EAAK9F,KAC1B,IAAKiH,GAAgBjL,EAAQgE,GAAM8F,EAAK9F,IAAO,OAAO,OACnD,GAAI8F,EAAK9F,KAAShE,EAAQgE,KACxBoH,GAAgBpL,EAAQgE,GAAM8F,EAAK9F,IAAO,OAAO,EAI9D,OAAO,EA9DqBtB,CAAOyG,EAAO3D,EAAO9C,UAC7CyH,MAAMC,QAAQN,IAASA,EAAKpL,OAAS,GACjCoL,EAAK,IAAMA,EAAK,GAAGuB,eAAe,cAE9BC,SAASC,eAAe,qBACxBD,SAASC,eAAe,qBAAqBC,WAAW,GAAGC,UAAYrO,EAAOiE,aAAaqK,GAAkB5B,IAE7GwB,SAASK,iBAAiB,mBAAoB,WAC1CL,SAASC,eAAe,qBAAqBC,WAAW,GAAGC,UAAYrO,EAAOiE,aAAaqK,GAAkB5B,OAM7H,IAAI8B,EAAOxO,EAAOyO,WACd/B,EACA1M,EAAO0O,WAAWtG,EAAOvG,KAAKC,MAAOsG,EAAOvG,KAAKZ,QAlBpB0N,EAqBXvG,EAAOwG,WAAxBhD,EArB4B+C,EAqB5B/C,KAAMiD,EArBsBF,EAqBtBE,QACX,MAAO,CACHnC,KAAMkC,GAAWhD,EAAMiD,EAASL,GAChCzJ,MAAOyJ,EAAKlN,SAIpB,SAASgN,GAAkBtD,GACvB,IAAI9G,EAAO,EADmB4K,GAAA,EAAAC,GAAA,EAAAC,OAAA3B,EAAA,IAE9B,QAAA4B,EAAAC,EAAiBlE,EAAjBwC,OAAAC,cAAAqB,GAAAG,EAAAC,EAAAxB,QAAAC,MAAAmB,GAAA,EAAwB,CACpB5K,GADoB+K,EAAAlD,MACP7H,MAHa,MAAA4J,GAAAiB,GAAA,EAAAC,EAAAlB,EAAA,YAAAgB,GAAA,MAAAI,EAAAnB,QAAAmB,EAAAnB,SAAA,WAAAgB,EAAA,MAAAC,GAM9B,OAAO9K,EAiCX,SAAS2J,GAAgBsB,EAAaC,GAAW,IAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAAlC,EAAA,IAC7C,QAAAmC,EAAAC,EAAcL,EAAd5B,OAAAC,cAAA4B,GAAAG,EAAAC,EAAA/B,QAAAC,MAAA0B,GAAA,EAAyB,CACrB,GAAIF,IADiBK,EAAAzD,MAEjB,OAAO,GAH8B,MAAA+B,GAAAwB,GAAA,EAAAC,EAAAzB,EAAA,YAAAuB,GAAA,MAAAI,EAAA1B,QAAA0B,EAAA1B,SAAA,WAAAuB,EAAA,MAAAC,GAM7C,OAAO,EAGX,SAASvB,GAAgBmB,EAAaC,GAElC,OAAe,IADHA,EAAUM,cAAcC,QAAQR,EAAYO,eAO5D,IAAMd,GAAa,SAAChD,EAAMiD,EAASnC,GAE/B,IAAIkD,GADJhE,GAAc,GACUiD,EACpBgB,EAAWD,EAAaf,EAC5B,OAAOnC,EAAKoD,MAAMF,EAAYC,IAGlC,SAAS3F,KACL,OAAO,IAAI1B,QAAQ,SAASC,EAASM,GACjC8B,eAAG,GAAAvD,OAAI2B,GAAJ,yBAAA3B,OAAmC4B,GAAnC,gBAAuDkB,KAAK,SAAAU,GAC3D,IAAMiF,EAAgBC,GAAgBlF,EAASI,UAC/ChF,eAAeqC,QAAQ,WAAYvC,KAAKgG,UAAUgE,GAAgBD,KAClEtH,EAAQsH,OAWpB,SAASC,GAAgB9E,GACrB,OAAI9B,GAAawB,OACNM,EAEAA,EAAS5F,OAAO,SAAC2K,GAAD,OAAcA,EAAQC,aAAeD,EAAQE,QAAQ1D,SAASrD,GAAanJ,MAiB1G,SAASkK,KACL,OAAO,IAAI3B,QAAQ,SAASC,EAASM,GACjC8B,eAAG,GAAAvD,OAAI2B,GAAJ,sBAAA3B,OAAgC4B,GAAhC,gBAAoDkB,KAAK,SAAAU,GACxD5E,eAAeqC,QAAQ,QAASvC,KAAKgG,UAAUlB,EAASqF,UACxD1H,EAAQqC,EAASqF,aAgG7B,SAAShF,GAAkBZ,EAAWU,GAClC,IAAK,IAAImF,EAAI,EAAGA,EAAI7F,EAAUjJ,OAAQ8O,IAClC,GAAInF,EAAI,OAAaV,EAAU6F,GAAV,GACjB,OAAO7F,EAAU6F,GAAV,KAIf,MAAO,UAWX,SAAShF,GAAsBd,EAAcW,GAMzC,IALA,IAAIoF,EAAiBpF,EAAKC,SAAS5F,OAAO,SAASgL,EAAMC,GACrD,OAAOtF,EAAKC,SAASyE,QAAQW,IAASC,IAEtCxF,EAAS,GAEJS,EAAI,EAAGA,EAAI6E,EAAe/O,OAAQkK,IACvC,IAD4C,IAAAgF,EAAA,SACnCJ,GACDC,EAAe7E,KAAOlB,EAAa8F,GAAGnQ,KAClC8K,EAAO0F,KAAK,SAAAC,GAAG,OAAIA,EAAIzQ,KAAOqK,EAAa8F,GAAGnQ,MAC9CuJ,QAAQmH,MAAM1F,GAElBF,EAAOM,KAAK,CACRpL,GAAIqK,EAAa8F,GAAGnQ,GACpBC,KAAMoK,EAAa8F,GAAGlQ,SAPzBkQ,EAAI,EAAGA,EAAI9F,EAAahJ,OAAQ8O,IAAKI,EAArCJ,GAab,OAAOrF,uDCnVL6F,YAAS,CACXC,SAAU,WACVC,KAAM,sBACNC,IAAK,uBAGHC,gNACFC,OAAS,SAACC,GACNA,EAAEC,iBAKFpP,EAAK7C,MAAMkS,UAHS,8EAOpB,OACIjS,EAAAC,EAAAC,cAAA,KAAGgS,MAAOT,GAAQU,KAAK,4KAGnBnS,EAAAC,EAAAC,cAAA,OAAKkS,IAAI,qBACTC,OAAO,KAAKC,MAAM,MAClB7N,IAAI,6DACJ8N,OAAO,4IAlBGC,aAwBXC,2BAAQvE,EAAW,CAAE+D,wBAArBQ,CAAkCZ,8HCxB3Ca,GAAeC,sBAPK,CACtBC,OAAQ,CACJP,OAAQ,GACRC,MAAO,KAIMK,CACjB,SAAA1N,GAAA,IAAG4N,EAAH5N,EAAG4N,QAAH,OACI7S,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC4S,GAAA7S,EAAD,CACIa,GAAG,SACHiS,UAAWF,EAAQD,OACnBnO,IAAKoD,aAAab,QAAQ,QAAUH,KAAKC,MAAMe,aAAab,QAAQ,SAASY,KAAKoL,QAAQC,SAAW,QAgBtGC,GAVI,SAAAnT,GAAK,OACpBC,EAAAC,EAAAC,cAACiT,GAAA,EAAD5P,OAAAC,OAAA,GAAczD,EAAd,CAAqBqT,KAAMpT,EAAAC,EAAAC,cAACwS,GAAD,QACvB1S,EAAAC,EAAAC,cAACmT,GAAA,EAAD,CACIC,GAAG,iBACHpP,YAAY,gBACZqP,SAAUvT,EAAAC,EAAAC,cAACsT,GAAAvT,EAAD,UCCPwT,GAZEd,sBAZF,CACXlS,MAAO,CACHiT,KAAM,EACNC,aAAc,WACdC,WAAY,SACZC,SAAU,UAEdC,OAAQ,CACJJ,KAAM,IAIGf,CAAmB,SAAA1N,GAAA,IAAG4N,EAAH5N,EAAG4N,QAAY9S,EAAfwD,OAAAwQ,GAAA,EAAAxQ,CAAA0B,EAAA,oBAChCjF,EAAAC,EAAAC,cAAC8T,GAAA,EAADzQ,OAAAC,OAAA,GAAYzD,EAAZ,CAAmBkU,SAAUjU,EAAAC,EAAAC,cAACgU,GAAD,QACzBlU,EAAAC,EAAAC,cAACiU,GAAAlU,EAAD,CACImU,QAAQ,QACRC,MAAM,UACNtB,UAAWF,EAAQpS,MACnBK,GAAG,sBAEPd,EAAAC,EAAAC,cAAA,QAAMY,GAAG,qBAAqBiS,UAAWF,EAAQiB,QAAUjM,aAAab,QAAQ,QAAWH,KAAKC,MAAMe,aAAab,QAAQ,SAASY,KAAKoL,QAAQsB,aAAe,OCrBzJC,GAFE,SAACxU,GAAD,OAAWC,EAAAC,EAAAC,cAACsU,GAAA,EAADjR,OAAAC,OAAA,GAAYzD,EAAZ,CAAmB0U,OAAQhB,OCoBxCiB,GATH,kBACV1U,EAAAC,EAAAC,cAACyU,EAAA,EAAD,CAAOC,UAAWL,GAAUM,UAAWhD,GAAaiD,UAAWnM,GAAWI,aAAcA,GAAcoB,aAAcA,IAClHnK,EAAAC,EAAAC,cAAC6U,EAAA,EAAD,CAAUhU,KAAK,QAAQsO,KAAM/L,EAAU8P,KAAM4B,MAC7ChV,EAAAC,EAAAC,cAAC6U,EAAA,EAAD,CAAUhU,KAAK,QAAQsO,KAAMvP,EAAUsT,KAAM6B,MAC7CjV,EAAAC,EAAAC,cAAC6U,EAAA,EAAD,CAAUhU,KAAK,WAAWsO,KAAMtM,EAAaqQ,KAAM6B,MACnDjV,EAAAC,EAAAC,cAAC6U,EAAA,EAAD,CAAUhU,KAAK,SAASsO,KAAMhM,EAAW+P,KAAM6B,QCR/BC,QACW,cAA7BxK,OAAOyK,SAASC,UAEe,UAA7B1K,OAAOyK,SAASC,UAEhB1K,OAAOyK,SAASC,SAASC,MACvB,2DCZNC,IAASrS,OAAOjD,EAAAC,EAAAC,cAACqV,GAAD,MAASxG,SAASC,eAAe,SD2H3C,kBAAmBwG,WACrBA,UAAUC,cAAcC,MAAMzK,KAAK,SAAA0K,GACjCA,EAAaC","file":"static/js/main.26c3a3b5.chunk.js","sourcesContent":["import React from 'react';\nimport { List, Datagrid, TextField, ImageField, FileField } from 'react-admin';\n\nexport const UserList = props => (\n    <List {...props}>\n        <Datagrid rowClick=\"edit\">\n            <FileField label=\"File\" source=\"profile.image_original\" title=\"avatar\" target=\"_blank\" />\n            <TextField source=\"id\" label=\"Id\" />\n            <ImageField source=\"profile.image_72\" label=\"Avatar\" />\n            <TextField source=\"name\" label=\"user\" />\n            <TextField source=\"profile.display_name\" label=\"Display name\" />\n        </Datagrid>\n    </List>\n);","class Helper{\n    static getFileTypes(){\n        return [\n            {id: 'jpg', name: 'jpg'},\n            {id: 'png', name: 'png'},\n            {id: 'gif', name: 'gif'},\n            {id: 'zip', name: 'zip'},\n            {id: 'text', name: 'text'},\n            {id: 'doc', name: 'doc'},\n            {id: 'docx', name: 'docx'},\n            {id: 'pdf', name: 'pdf'},\n            {id: 'mp4', name: 'mp4'}\n        ];\n    }\n\n    static convertDate(unixtimestamp){\n        // Months array\n        // const months_arr = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n        // Convert timestamp to milliseconds\n        var date = new Date(unixtimestamp*1000);\n        // Year\n        var year = date.getFullYear();\n        // Month\n        // var month = months_arr[date.getMonth()];\n        var month = date.getMonth() + 1;\n        if (month < 10) {\n            month = '0' + month;\n        }\n        // Day\n        var day = date.getDate();\n        if (day < 10) {\n            day = '0' + day;\n        }\n        // Hours\n        // var hours = date.getHours();\n        // Minutes\n        // var minutes = \"0\" + date.getMinutes();\n        // Seconds\n        // var seconds = \"0\" + date.getSeconds();\n        // Display date time in dd-MM-yyyy format\n        return day + '-' + month + '-' + year;\n    }\n\n    static toSizeString(byte) {\n        if (byte < Math.pow(2, 10)) {\n            return byte + ' B';\n        } else if (byte < Math.pow(2, 20)) {\n            return (byte / Math.pow(2, 10)).toFixed(0) + ' kB';\n        } else if (byte < Math.pow(2, 30)) {\n            return (byte / Math.pow(2, 20)).toFixed(2) + ' MB';\n        } else if (byte < Math.pow(2, 40)) {\n            return (byte / Math.pow(2, 30)).toFixed(2) + ' GB';\n        }\n    }\n\n    // Sorting\n    static desc(a, b, field) {\n        let valA = a[field];\n        let valB = b[field];\n        let tempArray = field.split('.');\n        if (tempArray.length === 2) {\n            valA = a[tempArray[0]][tempArray[1]];\n            valB = b[tempArray[0]][tempArray[1]];\n        }\n        if (valB < valA) {\n            return -1;\n        }\n        if (valB > valA) {\n            return 1;\n        }\n        return 0;\n      }\n      \n    static stableSort(array, cmp) {\n        const stabilizedThis = array.map((el, index) => [el, index]);\n        stabilizedThis.sort((a, b) => {\n            const order = cmp(a[0], b[0]);\n            if (order !== 0) return order;\n            return a[1] - b[1];\n        });\n        return stabilizedThis.map(el => el[0]);\n    }\n    \n    static getSorting(order, field) {\n        return order === 'DESC' ? (a, b) => this.desc(a, b, field) : (a, b) => -(this.desc(a, b, field));\n    }\n    // End of sorting\n\n}\n\nexport default Helper;","// in src/channels.js\nimport React from 'react';\nimport { List, Datagrid, TextField, FunctionField } from 'react-admin';\nimport Helper from './helper.js';\n\nexport const ChannelList = props => (\n    <List {...props}>\n        <Datagrid rowClick=\"edit\">\n            <TextField source=\"name\" label=\"Name\" />\n            <FunctionField source=\"created\" label=\"Created\" render={record => Helper.convertDate(record.created)}/>\n        </Datagrid>\n    </List>\n);","// in src/groups.js\nimport React from 'react';\nimport { List, Datagrid, TextField, FunctionField } from 'react-admin';\nimport Helper from './helper.js';\n\nexport const GroupList = props => (\n    <List {...props}>\n        <Datagrid rowClick=\"edit\">\n            <TextField source=\"name\" label=\"Name\" />\n            <FunctionField source=\"created\" label=\"Created\" render={record => Helper.convertDate(record.created)}/>\n        </Datagrid>\n    </List>\n);","// in src/files.js\nimport React, {Fragment} from 'react';\nimport { List, Filter, Datagrid, DatagridBody, Responsive, SimpleList, SingleFieldList } from 'react-admin';\nimport { TextField, ImageField, FunctionField, DateField, ArrayField, ChipField, FileField } from 'react-admin';\nimport { TextInput, SelectArrayInput, AutocompleteArrayInput, BulkDeleteButton } from 'react-admin';\nimport Helper from './helper.js';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { CardActions, CreateButton, ExportButton, RefreshButton } from 'react-admin';\n\nexport const FileList = props => (\n    <List filters={<FileFilter />} actions={<PostActions />} {...props} bulkActionButtons={<FileBulkActionButtons />}>\n        <Responsive\n            small={\n                <SimpleList\n                    primaryText={record => record.title}\n                    secondaryText={record => record.m_users}\n                    tertiaryText={record => new Date(record.created).toLocaleDateString()}\n                />\n            }\n            medium={\n                <FileDatagrid>\n                    <FileField label=\"File\" source=\"url_private\" src=\"url_private\" title=\"title\" target=\"_blank\" />\n                    <TextField label=\"User\" source=\"m_users\" />\n                    <ArrayField label=\"Channel\" source=\"m_channels\" sortable={false} >\n                        <SingleFieldList>\n                            <ChipField source=\"name\" />\n                        </SingleFieldList>\n                    </ArrayField>\n                    <ImageField label=\"Thumbnail\" source=\"thumb_80\" sortable={false} />\n                    <FunctionField source=\"size\" render={record => Helper.toSizeString(record.size)} />\n                    <FunctionField source=\"created\" label=\"Created\" render={record => Helper.convertDate(record.created)}/>\n                </FileDatagrid>\n            }\n        />\n    </List>\n);\n\nconst PostActions = ({\n    bulkActions,\n    basePath,\n    currentSort,\n    displayedFilters,\n    exporter,\n    filters,\n    filterValues,\n    onUnselectItems,\n    resource,\n    selectedIds,\n    showFilter,\n    total\n}) => (\n    <CardActions>\n        {bulkActions && React.cloneElement(bulkActions, {\n            basePath,\n            filterValues,\n            resource,\n            selectedIds,\n            onUnselectItems,\n        })}\n        {filters && React.cloneElement(filters, {\n            resource,\n            showFilter,\n            displayedFilters,\n            filterValues,\n            context: 'button',\n        }) }\n        <ExportButton\n            disabled={total === 0}\n            resource={resource}\n            sort={currentSort}\n            filter={filterValues}\n            exporter={exporter}\n        />\n    </CardActions>\n);\n\nconst FileBulkActionButtons = props => (\n    <Fragment>\n        {/* Add the default bulk delete action */}\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst FileFilter = (props) => (\n    <Filter {...props}>\n        <TextInput label=\"Search\" source=\"name\" alwaysOn />\n        <AutocompleteArrayInput source=\"user\" choices={ JSON.parse(sessionStorage.getItem('users')) } allowEmpty />\n        <AutocompleteArrayInput source=\"channels\" choices={ JSON.parse(sessionStorage.getItem('channels')) } allowEmpty />\n        <AutocompleteArrayInput source=\"filetype\" choices={ Helper.getFileTypes() } allowEmpty/>\n    </Filter>\n);\n\nconst FileDatagridRow = ({ record, resource, id, onToggleItem, children, selected, basePath }) => (\n    <TableRow key={id}>\n        {/* first column: selection checkbox */}\n        <TableCell padding=\"none\">\n            {record.user === JSON.parse(localStorage.getItem('auth')).user_id && <Checkbox\n                checked={selected}\n                onClick={() => onToggleItem(id)}\n            />}\n        </TableCell>\n        {/* data columns based on children */}\n        {React.Children.map(children, field => (\n            <TableCell key={`${id}-${field.props.source}`}>\n                {React.cloneElement(field, {\n                    record,\n                    basePath,\n                    resource,\n                })}\n            </TableCell>\n        ))}\n    </TableRow>\n)\n\nconst FileDatagridBody = props => <DatagridBody {...props} row={<FileDatagridRow />} />;\nconst FileDatagrid = props => <Datagrid {...props} body={<FileDatagridBody />} />;","// in src/Dashboard.js\nimport React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\n\nexport default () => (\n    <Card>\n        <CardHeader title=\"Welcome to the administration\" />\n        <CardContent>Lorem ipsum sic dolor amet...</CardContent>\n    </Card>\n);","// in src/authProvider.js\nimport { AUTH_LOGIN, AUTH_LOGOUT, AUTH_ERROR, AUTH_CHECK } from 'react-admin';\n\nexport default (type, params) => {\n    // called when the user attempts to log in\n    if (type === AUTH_LOGIN) {\n        const { username } = params;\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    }\n    // called when the user clicks on the logout button\n    if (type === AUTH_LOGOUT) {\n        localStorage.clear();\n        sessionStorage.clear();\n        return Promise.resolve();\n    }\n    // called when the API returns an error\n    if (type === AUTH_ERROR) {\n        const { status } = params;\n        if (status === 401 || status === 403) {\n            localStorage.removeItem('username');\n            return Promise.reject();\n        }\n        return Promise.resolve();\n    }\n    // called when the user navigates to a new location\n    if (type === AUTH_CHECK) {\n        return localStorage.getItem('auth')\n            ? Promise.resolve()\n            : Promise.reject();\n    }\n    return Promise.reject('Unknown method');\n};","// in src/dataProvider\nimport {\n    GET_LIST,\n    GET_ONE,\n    GET_MANY,\n    GET_MANY_REFERENCE,\n    CREATE,\n    UPDATE,\n    DELETE_MANY,\n    fetchUtils,\n} from 'react-admin';\n\nimport { get, post, put, del } from 'fetchutils';\nimport Helper from './helper.js';\n\nconst API_URL = 'https://slack.com/api';\nconst TOKEN = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')).access_token : '';\nconst CURRENT_USER = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')).user : '';\nconst PREFIX = 'm_';\n\n/**\n * @param {string} type Request type, e.g GET_LIST, GET_MANY from react-admin\n * @param {string} resource Resource name, e.g. \"files\", \"users\"\n * @param {Object} payload Request parameters. Depends on the request type\n * @returns {Promise} the Promise for response\n */\nexport default (type, resource, params) => {\n    if (!TOKEN) return;\n    console.group(\"============== dataProvider =============\");\n    console.log(type);\n    console.log(resource);\n    console.log(params);\n    console.groupEnd();\n\n    switch(type) {\n        case GET_LIST:\n            switch(resource) {\n                case \"files\":\n                    if (window.demo) {\n                        return handleData(params, window.demo);\n                    } else if (sessionStorage.getItem('files')) {\n                        let storageObject = JSON.parse(sessionStorage.getItem('files'));\n                        return handleData(params, storageObject);\n                    }\n                    return Promise.all([getAllChannels(), getAllUsers()]).then(values => {\n                        let allChannels = values[0];\n                        let allUsers = values[1];\n                        return getAllFiles(allChannels, allUsers).then(allFiles => {\n                            return handleData(params, allFiles);\n                        });\n                    })\n                case \"users\":\n                    return getAllUsers().then(users => {\n                        return handleData(params, users);\n                    });\n                case \"channels\":\n                    return getAllChannels().then(channels => {\n                        return handleData(params, channels);\n                    });\n                case \"groups\":\n                    return getAllGroups().then(groups => {\n                        return handleData(params, groups);\n                    });\n            }\n            break;\n        // case GET_MANY:\n        case DELETE_MANY:\n            deleteFiles(params.ids);\n        default:\n            return;\n    }\n};\n\n/*\n * handleData: filter and sort data\n * params:\n * \n * output: { data: {Record[]}, total: {int} }\n */\n\nconst handleData = (params, data) => {\n    // Filter\n    data = data.filter(value => filter(value, params.filter));\n    if (Array.isArray(data) && data.length > 0) {\n        if (data[0] && data[0].hasOwnProperty('filetype')) {\n            // Set text of span on AppBar: set total size\n            if (document.getElementById('react-admin-title')) {\n                document.getElementById('react-admin-title').childNodes[0].innerHTML = Helper.toSizeString(getSizeOfListFile(data));\n            } else {\n                document.addEventListener(\"DOMContentLoaded\", function() { \n                    document.getElementById('react-admin-title').childNodes[0].innerHTML = Helper.toSizeString(getSizeOfListFile(data));\n                });\n            }\n        }\n    }\n    // Sort\n    let list = Helper.stableSort(\n        data,\n        Helper.getSorting(params.sort.order, params.sort.field)\n    );\n    // Pagination\n    let {page, perPage} = params.pagination;\n    return {\n        data: pagination(page, perPage, list),\n        total: list.length\n    };\n}\n\nfunction getSizeOfListFile(files) {\n    let size = 0;\n    for (let file of files) {\n        size += file.size;\n    }\n    \n    return size;\n}\n\n\nfunction filter(data, filters) {\n    const filterKeys = Object.keys(filters);\n\n    for (let key of filterKeys) {\n        // check filter is array\n        if (Array.isArray(filters[key])) {\n            let isCheckArray = false;\n            for (let v of filters[key]) {\n                if (Array.isArray(data[key])) {\n                    if (filterDataArray(v, data[key])) {\n                        isCheckArray = true;\n                        break;\n                    }\n                } else if (data[key] === v) {\n                    isCheckArray = true;\n                    break;\n                }\n            }\n            if (!isCheckArray) return false;\n        } else if (Array.isArray(data[key])) {\n            if (!filterDataArray(filters[key], data[key])) return false;\n        } else if (data[key] !== filters[key]) {\n            if (!searchDataArray(filters[key], data[key])) return false;\n        }\n    }\n    \n    return true;\n}\n\nfunction filterDataArray(filterValue, dataArray) {\n    for (let v of dataArray) {\n        if (filterValue === v) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction searchDataArray(filterValue, dataArray) {\n    let check = dataArray.toLowerCase().indexOf(filterValue.toLowerCase());\n    if (check !== -1) {\n        return true;\n    }\n    return false;\n}\n\nconst pagination = (page, perPage, data) => {\n    page = page - 1;\n    let startSlice = page * perPage;\n    let endSlice = startSlice + perPage;\n    return data.slice(startSlice, endSlice);\n}\n\nfunction getAllChannels() {\n    return new Promise(function(resolve, reject) {\n        get(`${API_URL}/channels.list?token=${TOKEN}&count=1000`).then(response => {\n            const finalChannels = compactChannels(response.channels);\n            sessionStorage.setItem('channels', JSON.stringify(compactChannels(finalChannels)));\n            resolve(finalChannels);\n        });\n    })\n}\n\n/**\n * compactChannels()\n * \n * Remove archive channel\n * Remove channel that member not join\n*/ \nfunction compactChannels(channels) {\n    if (CURRENT_USER.is_dev) {\n        return channels;\n    } else {\n        return channels.filter((channel) => !channel.is_archived && channel.members.includes(CURRENT_USER.id));\n    }\n}\n\nfunction getAllGroups() {\n    return new Promise(function(resolve, reject) {\n        let param = '';\n        if (CURRENT_USER.is_dev) {\n            param = '&exclude_archived=true';\n        }\n        get(`${API_URL}/groups.list?token=${TOKEN}${param}`).then(response => {\n            sessionStorage.setItem('groups', JSON.stringify(response.groups));\n            resolve(response.groups);\n        });\n    })\n}\n\nfunction getAllUsers() {\n    return new Promise(function(resolve, reject) {\n        get(`${API_URL}/users.list?token=${TOKEN}&count=1000`).then(response => {\n            sessionStorage.setItem('users', JSON.stringify(response.members));\n            resolve(response.members);\n        });\n    })\n}\n\n\nfunction getAllFiles(listChannels, listUsers) {\n    return new Promise(function(resolve, reject) {\n        let param = '';\n        if (!CURRENT_USER.is_admin && !CURRENT_USER.is_dev) {\n            param = `&user=${CURRENT_USER.id}`;\n        }\n        get(`${API_URL}/files.list?token=${TOKEN}${param}&count=100&page=1`).then(response => {\n            let result = [];\n\n            response.files.map(file => {\n                if (!CURRENT_USER.is_dev && !file.channels) {\n                    let isInTheChannel = false;\n                    file.channels.map(fChannelId => {\n                        for (let i = 0; i < listChannels.length; i++) {\n                            if (listChannels[i].id === fChannelId) {\n                                isInTheChannel = true;\n                                break;\n                            }\n                        }\n                    })\n\n\n                    if (isInTheChannel) {\n                        file[PREFIX + 'users'] = getUserNameByFile(listUsers, file);\n                        file[PREFIX + 'channels'] = getChannelNamesByFile(listChannels, file);\n                        result.push(file);\n                    }\n                } else {\n                    file[PREFIX + 'users'] = getUserNameByFile(listUsers, file);\n                    file[PREFIX + 'channels'] = getChannelNamesByFile(listChannels, file);\n                    result.push(file);\n                }\n            });\n\n            if (response.paging.pages > 1) {\n                let listUrl = [];\n                for (let page = 2; page <= response.paging.pages; page++) {\n                    listUrl.push(`${API_URL}/files.list?token=${TOKEN}${param}&count=100&page=${page}`);\n                }\n                Promise.all(\n                    listUrl.map(url => {\n                        return get(url).then(res => {\n                            return res;\n                        })\n                    })\n                ).then(values => {\n                    values.map(value => {\n                        value.files.map(file => {\n                            let isInTheChannel = false;\n                            if (!CURRENT_USER.is_dev) {\n                                file.channels.map(fChannelId => {\n                                    for (let i = 0; i < listChannels.length; i++) {\n                                        if (listChannels[i].id === fChannelId) {\n                                            isInTheChannel = true;\n                                            break;\n                                        }\n                                    }\n                                })\n            \n            \n                                if (isInTheChannel) {\n                                    file[PREFIX + 'users'] = getUserNameByFile(listUsers, file);\n                                    file[PREFIX + 'channels'] = getChannelNamesByFile(listChannels, file);\n                                    result.push(file);\n                                }\n                            } else {\n                                file[PREFIX + 'users'] = getUserNameByFile(listUsers, file);\n                                file[PREFIX + 'channels'] = getChannelNamesByFile(listChannels, file);\n                                result.push(file);\n                            }\n                        })\n                    })\n                    sessionStorage.setItem('files', JSON.stringify(result));\n                    resolve(result);\n                });\n            } else {\n                sessionStorage.setItem('files', JSON.stringify(result));\n                resolve(result);\n            }\n        });\n    })\n}\n\n/**\n * get Name of User of File\n * \n * @param listUsers array\n * @param file object\n * @return string\n */\nfunction getUserNameByFile(listUsers, file) {\n    for (let j = 0; j < listUsers.length; j++) {\n        if (file['user'] === listUsers[j]['id']) {\n            return listUsers[j]['name'];\n        }\n    }\n\n    return 'no name';\n}\n\n/**\n * \n * @param {array} listChannels \n * @param {object} file \n * \n * @return array\n */\n\nfunction getChannelNamesByFile(listChannels, file) {\n    let uniqueChannels = file.channels.filter(function(item, pos) {\n        return file.channels.indexOf(item) == pos;\n    })\n    let result = [];\n\n    for (let i = 0; i < uniqueChannels.length; i++) {\n        for (let j = 0; j < listChannels.length; j++) {\n            if (uniqueChannels[i] === listChannels[j].id) {\n                if (result.find(obj => obj.id === listChannels[j].id)) {\n                    console.error(file);\n                }\n                result.push({\n                    id: listChannels[j].id,\n                    name: listChannels[j].name\n                });\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction deleteFiles(fileIds) {\n    return new Promise(function(resolve, reject) {\n        let files = fileIds;\n        for (let i=0; i < fileIds.length; i++) {\n            fetch(`${API_URL}/files.delete?token=${TOKEN}&file=${fileIds[i]}`, {method: 'post'}).then(res => {\n                files = fileIds.filter(file => file !== fileIds[i]);\n            });\n        }\n        let allFiles = JSON.parse(sessionStorage.getItem('files')).filter(file => {\n            return !files.includes(file.id);\n        });\n        sessionStorage.setItem('files', JSON.stringify(allFiles));\n        window.demo = allFiles;\n    })\n}","// in src/MyLoginPage.js\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { userLogin } from 'admin-on-rest';\n\nimport './Login.css';\n\nconst aStyle = {\n    position: 'absolute',\n    left: 'calc(50% - 172px/2)',\n    top: 'calc(50% - 43px/2)'\n}\n\nclass MyLoginPage extends Component {\n    submit = (e) => {\n        e.preventDefault();\n        // gather your data/credentials here\n        const credentials = { };\n\n        // Dispatch the userLogin action (injected by connect)\n        this.props.userLogin(credentials);\n    }\n\n    render() {\n        return (\n            <a style={aStyle} href=\"https://slack.com/oauth/authorize?\n                scope=files%3Awrite%3Auser+users%3Aread+files%3Aread+search%3Aread+channels%3Aread+groups%3Aread\n                &client_id=231613720450.347038352342\">\n                <img alt=\"Sign in with Slack\"\n                height=\"40\" width=\"172\"\n                src=\"https://platform.slack-edge.com/img/sign_in_with_slack.png\"\n                srcSet=\"https://platform.slack-edge.com/img/sign_in_with_slack.png 1x, https://platform.slack-edge.com/img/sign_in_with_slack@2x.png 2x\" />\n            </a>\n        );\n    }\n};\n\nexport default connect(undefined, { userLogin })(MyLoginPage);","import React from 'react';\nimport { AppBar, UserMenu, MenuItemLink } from 'react-admin';\nimport { withStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nconst myCustomIconStyle = {\n    avatar: {\n        height: 30,\n        width: 30,\n    },\n};\n\nconst MyCustomIcon = withStyles(myCustomIconStyle)(\n    ({ classes }) => (\n        <div>\n            <Avatar\n                id=\"avatar\"\n                className={classes.avatar}\n                src={localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')).user.profile.image_32 : ''}\n            />\n        </div>\n    )\n);\n\nconst MyUserMenu = props => (\n    <UserMenu {...props} icon={<MyCustomIcon />}>\n        <MenuItemLink\n            to=\"/configuration\"\n            primaryText=\"Configuration\"\n            leftIcon={<SettingsIcon />}\n        />\n    </UserMenu>\n);\n\nexport default MyUserMenu;","import React from 'react';\nimport { AppBar } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport MyUserMenu from './MyUserMenu';\n\nconst styles = {\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n    spacer: {\n        flex: 1,\n    },\n};\n\nconst MyAppBar = withStyles(styles)(({ classes, ...props }) => (\n    <AppBar {...props} userMenu={<MyUserMenu />}>\n        <Typography\n            variant=\"title\"\n            color=\"inherit\"\n            className={classes.title}\n            id=\"react-admin-title\"\n        />\n        <span id=\"react-admin-header\" className={classes.spacer}>{(localStorage.getItem('user')) ? JSON.parse(localStorage.getItem('user')).user.profile.display_name : ''}</span>\n    </AppBar>\n));\n\nexport default MyAppBar;","import React from 'react';\nimport { Layout } from 'react-admin';\nimport MyAppBar from './MyAppBar';\n\nconst MyLayout = (props) => <Layout {...props} appBar={MyAppBar} />;\n\nexport default MyLayout;","import React from 'react';\nimport './App.css';\nimport { Admin, Resource } from 'react-admin';\nimport { UserList } from './users';\nimport { ChannelList } from './channels';\nimport { GroupList } from './groups';\nimport { FileList } from './files';\nimport UserIcon from '@material-ui/icons/Group';\nimport FileIcon from '@material-ui/icons/FileUpload';\nimport Dashboard from './Dashboard';\nimport authProvider from './authProvider';\nimport dataProvider from './dataProvider';\nimport MyLoginPage from './MyLoginPage';\nimport MyLayout from './MyLayout';\n\nconst App = () => (\n  <Admin appLayout={MyLayout} loginPage={MyLoginPage} dashboard={Dashboard} authProvider={authProvider} dataProvider={dataProvider}>\n    <Resource name=\"files\" list={FileList} icon={FileIcon} />\n    <Resource name=\"users\" list={UserList} icon={UserIcon} />\n    <Resource name=\"channels\" list={ChannelList} icon={UserIcon} />\n    <Resource name=\"groups\" list={GroupList} icon={UserIcon} />\n  </Admin>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n// serviceWorker.register();\n"],"sourceRoot":""}